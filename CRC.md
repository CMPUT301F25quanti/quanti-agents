| **Class** | **Responsibilities** | **Collaborators** |
|------------|----------------------|-------------------|
| **Entrant** | - Join and leave event waiting lists (US 01.01.01, 01.01.02).<br>- View available events and event details (US 01.01.03, 01.01.04, 01.06.01, 01.06.02).<br>- Provide and update personal profile info (name, email, phone) with validation (US 01.02.01, 01.02.02).<br>- Receive notifications about lottery results (win or lose) (US 01.04.01, 01.04.02).<br>- Accept or decline event invitations and see confirmations (US 01.05.02, 01.05.03).<br>- View registration history and lottery outcomes (US 01.02.03).<br>- Delete profile if no longer using app (US 01.02.04).<br>- View dynamic waiting list counts on event details (US 01.05.04).<br>- Manage notification preferences to opt out of organizer/admin messages (US 01.04.03).<br>- Be identified by device across launches (login-free)(US 01.07.01).<br>- Understand lottery fairness criteria (US 01.05.05).| Event, WaitingList, NotificationSystem, Profile, Organizer, RegistrationManager, DeviceIdentifier, FirebaseIntegration  |
| **Organizer** | - Create and publish new events (US 02.01.01).<br>- Set registration periods and event capacity (US 02.01.04, 02.03.01).<br>- Generate promotional QR codes for events (US 02.01.01).<br>- View entrants on waiting list (US 02.02.01).<br>- Enable or disable geolocation requirement (US 02.02.03).<br>- Upload or update event posters (US 02.04.01, 02.04.02).<br>- Trigger lottery sampling and send invitations (US 02.05.02, 02.05.01).<br>- Draw replacement entrants when cancellations/declines occur (US 02.05.03; supports 01.05.01).<br>- Export final attendee list as CSV (US 02.06.05).<br>- Send notifications to entrants (chosen, waiting, cancelled) and see delivery confirmation (US 02.05.01, 02.07.01, 02.07.02, 02.07.03).<br>- View chosen, cancelled, and final enrolled lists (US 02.06.01, 02.06.02, 02.06.03).<br>- Cancel non-responders and notify them (US 02.06.04).<br>- See entrants on a map with clustering and details (US 02.02.02). | RegistrationManager, Event, WaitingList, NotificationSystem, LotterySystem, GeolocationService, QRCodeManager, ImageStorage, FirebaseIntegration |
| **Administrator** | - Remove inappropriate or outdated events (US 03.01.01).<br>- Remove entrant or organizer profiles when necessary (US 03.02.01, 03.07.01).<br>- Manage uploaded images (US 03.03.01).<br>- Browse events and profiles for moderation (US 03.04.01, 03.05.01).<br>- Browse images to review/remove (US 03.06.01).<br>- Review notification logs sent by organizers (US 03.08.01).<br>- Enforce app policy and remove violators (US 03.07.01).<br>- Use filters and confirmations where applicable (US 03.04.01, 03.05.01, 03.06.01, 03.08.01). | Event, Organizer, Entrant, NotificationSystem, ImageStorage, Profile, FirebaseIntegration, AuditLog |
| **Event** | - Store event details (name, description, time, place, cost, etc.).<br>- Maintain event poster reference and QR code reference (US 02.01.01, 02.04.01, 02.04.02).<br>- Track registration start and end times and enforce open/closed (US 02.01.04).<br>- Hold references to organizer, entrants, and confirmed attendees (US 02.06.01–02.06.03).<br>- Update event status (open, closed, full, cancelled).<br>- Store optional waiting list cap and expose current count (US 02.03.01; supports 01.05.04).<br>- Hold geolocation requirement flag for join gating (US 02.02.03).| Organizer, WaitingList, QRCodeManager, ImageStorage, LotterySystem, FirebaseIntegration |
| **WaitingList** | - Store list of entrants who expressed interest<br>- Allow entrants to join or leave list with registration window and cap validation (US 01.01.01, 01.01.02, 02.03.01).<br>- Provide count of total entrants (live) (US 01.05.04).<br>- Support random sampling for lottery draws (US 02.05.02).<br>- Replace withdrawn or declined entrants (US 02.05.03; supports 01.05.01).<br>- Capture join location when required and expose to map (US 02.02.02).<br>- Communicate updates to organizers and entrants. | Entrant, Event, LotterySystem, NotificationSystem, GeolocationService, FirebaseIntegration |
| **LotterySystem** | - Randomly select entrants from the waiting list (US 02.05.02).<br>- Handle declined invitations and redraw replacements (US 02.05.03; supports 01.05.01).<br>- Ensure fair selection process and publish criteria (US 01.05.05).<br>- Record selection results for transparency and audit (US 01.05.05).<br>- Notify organizer and selected entrants of results (US 01.04.01, 01.04.02, 02.05.01). | WaitingList, NotificationSystem, Organizer, Entrant, RegistrationManager, FirebaseIntegration |
| **NotificationSystem** | - Send notifications to entrants and organizers (US 01.04.01, 01.04.02, 02.05.01, 02.07.01, 02.07.02, 02.07.03).<br>- Handle event invites, lottery results, replacements, and broadcasts with delivery confirmations (US 02.05.01, 02.07.01–02.07.03).<br>- Allow users to opt in/out of certain notifications and honor preferences (US 01.04.03).<br>- Log all sent notifications with organizer, recipient type, timestamp, and content for admin review (US 03.08.01). | Entrant, Organizer, Administrator, LotterySystem, RegistrationManager, Profile, FirebaseIntegration |
| **QRCodeManager** | - Generate QR codes for event links to details and poster (US 02.01.01).<br>- Allow scanning of promotional QR codes to retrieve event details (US 01.06.01).<br>- Validate invalid or expired codes and return clear errors. | Event, Organizer, Entrant, FirebaseIntegration |
| **ImageStorage** | - Store and manage uploaded event poster images (US 02.04.01, 02.04.02).<br>- Validate poster type and size; allow overwrite and confirm updates (US 02.04.01, 02.04.02).<br>- Provide admin ability to browse and remove inappropriate images with preview (US 03.06.01, 03.03.01).<br>- Integrate with Firebase storage. | Organizer, Administrator, Event, FirebaseIntegration |
| **Profile** | - Hold entrant personal information (US 01.02.01).<br>- Support editing or deletion of data with confirmation (US 01.02.02, 01.02.04).<br>- Display past registration history (selected, not selected, cancelled) (US 01.02.03).<br>- Sync with device-based identification system (US 01.07.01).<br>- Store notification preferences with validation (US 01.04.03).| Entrant, Event, NotificationSystem, DeviceIdentifier, FirebaseIntegration |
| **GeolocationService (Optional)** | - Verify entrant’s device location when joining event waiting list (US 02.02.02, 02.02.03).<br>- Display entrant location on map for organizers with clustering and details (US 02.02.02).<br>- Enforce requirement by signaling eligibility when permission is denied/disabled (US 02.02.03).<br>- Ensure privacy rules are followed. | Entrant, Organizer, Event, WaitingList, FirebaseIntegration |
| **FirebaseIntegration** | - Store all app data including users, events, and waiting lists (Feature: Firebase Integration).<br>- Persist profiles, notifications, and images (US 03.08.01; 02.04.01–02.04.02).<br>- Support real-time updates for lists and counts (US 01.05.04, 02.02.01).<br>- Store notification logs for admin review (US 03.08.01).<br>- Sync across devices securely.| Event, Organizer, Entrant, NotificationSystem, WaitingList, Profile, ImageStorage, LotterySystem, GeolocationService, RegistrationManager |
| **DeviceIdentifier** | - Identify entrants based on device ID (US 01.07.01).<br>- Allow login-free participation for users (US 01.07.01).<br>- Generate and store unique device ID, link to profile, and recognize on relaunch (US 01.07.01).<br>- Link device ID to user profile securely. | Profile, Entrant, FirebaseIntegration |
| **RegistrationManager** | - Transition entrants between pending, accepted, declined, cancelled (US 02.06.04; supports 01.05.02, 01.05.03).<br>- Flag non-responders by deadline and request organizer confirmation to cancel (US 02.06.04).<br>- Inform LotterySystem when a slot frees up for replacement and ask NotificationSystem to send the new invite (US 01.05.01, 02.05.03, 02.05.01).<br>- Coordinate confirmations and state visibility for Organizer and Entrant (US 02.06.01–02.06.03). | Entrant, Organizer, Event, WaitingList, LotterySystem, NotificationSystem, FirebaseIntegration |
| **AuditLog (Supporting)** | - Record immutable audit entries for notifications and moderation actions (US 03.08.01; supports 03.01.01–03.07.01).<br>- Provide filtered views for Administrator review (US 03.08.01).| NotificationSystem, Administrator, FirebaseIntegration |
